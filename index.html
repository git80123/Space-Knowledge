<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>å¤ªç©ºæ¢ç´¢</title>
  <style>
    body { font-family: sans-serif; background: #000; color: #fff; text-align: center; padding: 2em; }
    input { padding: 0.5em; font-size: 1em; width: 300px; }
    button { padding: 0.5em 1em; font-size: 1em; margin-left: 1em; }
    #wiki-result, #nasa-result { margin-top: 2em; text-align: left; max-width: 600px; margin-left: auto; margin-right: auto; }
    img { max-width: 100%; display: block; margin: 1em auto; }
    .search-section { margin-bottom: 3em; }
    h2 { margin-bottom: 0.5em; }
  </style>
</head>
<body>
  <h1>ğŸŒŒ å¤ªç©ºæ¢ç´¢çŸ¥è¯†ç½‘ç«™</h1>
  
  <div class="search-section">
    <h2>ç»´åŸºç™¾ç§‘å¤ªç©ºçŸ¥è¯†æœç´¢</h2>
    <input type="text" id="wiki-keyword" placeholder="è¾“å…¥å¤ªç©ºç›¸å…³è¯è¯­" />
    <button onclick="searchWiki()">æœç´¢</button>
    <div id="wiki-result"></div>
  </div>
  
  <div class="search-section">
    <h2>NASA æ¯æ—¥å¤©æ–‡å›¾ç‰‡</h2>
    <button onclick="searchNasa()">è·å–ä»Šæ—¥å›¾ç‰‡</button>
    <div id="nasa-result"></div>
  </div>
  
  <script>
    async function searchWiki() {
      const input = document.getElementById('wiki-keyword').value.trim();
      const resultDiv = document.getElementById('wiki-result');
      if (!input) {
        resultDiv.innerHTML = "<p>è¯·è¾“å…¥å…³é”®è¯ã€‚</p>";
        return;
      }
      const wikiUrl = "https://zh.wikipedia.org/api/rest_v1/page/summary/" + encodeURIComponent(input);
      try {
        const response = await fetch(wikiUrl);
        if (response.ok) {
          const data = await response.json();
          resultDiv.innerHTML = '<h3>' + data.title + '</h3><p>' + data.extract + '</p>';
        } else {
          resultDiv.innerHTML = "<p>æœªæ‰¾åˆ°ç›¸å…³ä¿¡æ¯ã€‚</p>";
        }
      } catch (e) {
        resultDiv.innerHTML = "<p>æœç´¢å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åå†è¯•ã€‚</p>";
      }
    }

    async function searchNasa() {
      const resultDiv = document.getElementById('nasa-result');
      const nasaUrl = "https://api.nasa.gov/planetary/apod?api_key=DEMO_KEY";
      resultDiv.innerHTML = "<p>åŠ è½½ä¸­...</p>";
      try {
        const res = await fetch(nasaUrl);
        if (!res.ok) throw new Error("NASA API è¯·æ±‚å¤±è´¥");
        const data = await res.json();
        let media = "";
        if (data.media_type === "image") {
          media = `<img src="${data.url}" alt="NASA å¤©æ–‡å›¾ç‰‡" />`;
        } else if (data.media_type === "video") {
          media = `<iframe src="${data.url}" width="100%" height="400" allowfullscreen></iframe>`;
        }
        resultDiv.innerHTML = `
          <h3>${data.title}</h3>
          ${media}
          <p>${data.explanation}</p>
          <p>å›¾ç‰‡ç‰ˆæƒ: ${data.copyright || "Public Domain"}</p>
        `;
      } catch (e) {
        resultDiv.innerHTML = "<p>æ— æ³•è·å–NASAå¤©æ–‡å›¾ç‰‡ã€‚</p>";
      }
    }
  </script>
</body>
</html>
